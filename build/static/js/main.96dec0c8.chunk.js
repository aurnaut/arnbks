(this["webpackJsonparnautu-library"]=this["webpackJsonparnautu-library"]||[]).push([[0],{168:function(e,t,a){},169:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(34),l=a.n(r),c=a(22),s=a(7),i=(a(86),a(13)),u=a(14),m=a(16),h=a(15),d=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return o.a.createElement("nav",{className:"navbar navbar-dark bg-dark navbar-expand-lg"},o.a.createElement(c.b,{to:"/",className:"navbar-brand"},"Books"),o.a.createElement("div",{className:"collpase navbar-collapse"},o.a.createElement("ul",{className:"navbar-nav mr-auto"},o.a.createElement("li",{className:"navbar-item"},o.a.createElement(c.b,{to:"/books",className:"nav-link"},"Books")),o.a.createElement("li",{className:"navbar-item"},o.a.createElement(c.b,{to:"/create",className:"nav-link"},"Add book")),o.a.createElement("li",{className:"navbar-item"},o.a.createElement(c.b,{to:"/random-book",className:"nav-link"},"Random book")),o.a.createElement("li",{className:"navbar-item"},o.a.createElement(c.b,{to:"/author",className:"nav-link"},"Add author")))))}}]),a}(n.Component),p=a(79),g=a(4),b=a(9),v=a.n(b),f=a(80),E=function(e){return o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement("img",{style:{maxWidth:100,border:"1px solid",borderRadius:5},src:"/uploads/"+e.book.cover})),o.a.createElement("td",null,e.book.title),o.a.createElement("td",null,e.book.author),o.a.createElement("td",null,!0===e.book.readByMar?"Yes":"No"),o.a.createElement("td",null,e.book.description),o.a.createElement("td",null,e.book.pages),o.a.createElement("td",null,e.book.date.substring(0,10)),o.a.createElement("td",null,o.a.createElement(c.b,{to:"/edit/"+e.book._id},"edit")," | ",o.a.createElement("a",{href:"#",onClick:function(){e.deleteBook(e.book._id)}},"delete")))},y=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).handleChange=function(e){var t=e.target.value;n.setState({value:t})},n.deleteBook=n.deleteBook.bind(Object(g.a)(n)),n.sortBy=n.sortBy.bind(Object(g.a)(n)),n.compareBy=n.compareBy.bind(Object(g.a)(n)),n.state={data:[],value:"",ascSort:!1},n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;v.a.get("http://localhost:5000/books/").then((function(t){e.setState({data:t.data})})).catch((function(e){console.log(e)}))}},{key:"deleteBook",value:function(e){v.a.delete("http://localhost:5000/books/"+e).then((function(e){console.log(e.data)})),this.setState({data:this.state.data.filter((function(t){return t._id!==e}))})}},{key:"compareBy",value:function(e){return this.state.ascSort?function(t,a){return t[e]>a[e]?-1:t[e]<a[e]?1:0}:function(t,a){return t[e]<a[e]?-1:t[e]>a[e]?1:0}}},{key:"sortBy",value:function(e){var t=Object(p.a)(this.state.data);t.sort(this.compareBy(e)),this.setState({data:t}),this.setState({ascSort:!this.state.ascSort}),console.log(this.state.ascSort)}},{key:"render",value:function(){var e=this;console.log(this.state.data);var t=this.state,a=t.data,n=t.value;return o.a.createElement("div",null,o.a.createElement("h3",null,"Books: ",this.state.data.length),o.a.createElement("input",{type:"text",value:n,onChange:this.handleChange}),o.a.createElement("table",{className:"table"},o.a.createElement("thead",{className:"thead-light"},o.a.createElement("tr",null,o.a.createElement("th",null,"Cover"),o.a.createElement("th",{onClick:function(){return e.sortBy("title")}},"Title"),o.a.createElement("th",{onClick:function(){return e.sortBy("author")}},"Author"),o.a.createElement("th",{onClick:function(){return e.sortBy("readByMar")}}," Read By Marius"),o.a.createElement("th",null,"Description"),o.a.createElement("th",{onClick:function(){return e.sortBy("pages")}},"Pages"),o.a.createElement("th",null,"Date"),o.a.createElement("th",null,"Actions"))),o.a.createElement("tbody",null,o.a.createElement(f.a,{value:n,data:a,renderResults:function(t){return o.a.createElement(o.a.Fragment,null,t.map((function(t){return o.a.createElement(E,{data:e.state.data,book:t,deleteBook:e.deleteBook,key:t._id})})))}}))))}}]),a}(n.Component),k=a(37),C=a.n(k),B=(a(68),function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).onChangeTitle=n.onChangeTitle.bind(Object(g.a)(n)),n.onChangeAuthor=n.onChangeAuthor.bind(Object(g.a)(n)),n.onChangeReadByMar=n.onChangeReadByMar.bind(Object(g.a)(n)),n.onChangeDescription=n.onChangeDescription.bind(Object(g.a)(n)),n.onChangePages=n.onChangePages.bind(Object(g.a)(n)),n.onChangeDate=n.onChangeDate.bind(Object(g.a)(n)),n.onChangeCover=n.onChangeCover.bind(Object(g.a)(n)),n.onSubmit=n.onSubmit.bind(Object(g.a)(n)),n.state={title:"",author:"",readByMar:!1,description:"",pages:0,date:new Date,cover:null,isEditImage:!1,showImage:"",authors:[]},n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;v.a.get("http://localhost:5000/books/"+this.props.match.params.id).then((function(t){e.setState({title:t.data.title,author:t.data.author,readByMar:t.data.readByMar,description:t.data.description,pages:t.data.pages,showImage:t.data.cover,cover:t.data.cover,date:new Date(t.data.date)})})).catch((function(e){console.log(e)})),v.a.get("http://localhost:5000/authors/").then((function(t){t.data.length>0&&e.setState({authors:t.data.map((function(e){return e.name}))})})).catch((function(e){console.log(e)}))}},{key:"onChangeTitle",value:function(e){this.setState({title:e.target.value})}},{key:"onChangeAuthor",value:function(e){this.setState({author:e.target.value})}},{key:"onChangeReadByMar",value:function(e){this.setState({readByMar:!this.state.readByMar})}},{key:"onChangeDescription",value:function(e){this.setState({description:e.target.value})}},{key:"onChangePages",value:function(e){this.setState({pages:e.target.value})}},{key:"onChangeDate",value:function(e){this.setState({date:e})}},{key:"onChangeCover",value:function(e){this.setState({cover:e.target.files[0],showImage:URL.createObjectURL(e.target.files[0]),isEditImage:!0})}},{key:"onSubmit",value:function(e){var t=this;e.preventDefault();var a=new FormData,n=this.state,o=n.title,r=n.author,l=n.readByMar,c=n.description,s=n.pages,i=n.date,u=n.cover,m=this.props.match.params.id;a.append("title",o),a.append("author",r),a.append("readByMar",l),a.append("description",c),a.append("pages",s),a.append("date",i),a.append("cover",u),a.append("id",m),v.a.put("http://localhost:5000/books/update/"+this.props.match.params.id,a).then((function(e){e&&t.props.history.push("/books")}))}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("h3",null,"Edit Book"),o.a.createElement("form",{onSubmit:this.onSubmit,method:"post",encType:"multipart/form-data"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"Title: "),o.a.createElement("input",{type:"text",required:!0,className:"form-control",value:this.state.title,onChange:this.onChangeTitle})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"Author: "),o.a.createElement("select",{ref:"authorInput",required:!0,className:"form-control",value:this.state.author,onChange:this.onChangeAuthor},this.state.authors.map((function(e){return o.a.createElement("option",{key:e,value:e},e)})))),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"Read By Maius: "),o.a.createElement("input",{type:"checkbox",className:"form-control",checked:this.state.readByMar,value:this.state.readByMar,onChange:this.onChangeReadByMar})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"Description: "),o.a.createElement("input",{type:"text",required:!0,className:"form-control",value:this.state.description,onChange:this.onChangeDescription})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"Pages: "),o.a.createElement("input",{type:"number",className:"form-control",value:this.state.pages,onChange:this.onChangePages})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"Date: "),o.a.createElement("div",null,o.a.createElement(C.a,{selected:this.state.date,onChange:this.onChangeDate}))),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"Cover"),o.a.createElement("input",{type:"file",name:"cover",className:"form-control",onChange:this.onChangeCover}),this.state.isEditImage?o.a.createElement("img",{style:{maxWidth:100},src:this.state.showImage}):o.a.createElement("img",{style:{maxWidth:100},src:"/uploads/"+this.state.showImage})),o.a.createElement("div",{className:"form-group"},o.a.createElement("input",{type:"submit",value:"Edit Book",className:"btn btn-primary"}))))}}]),a}(n.Component)),N=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).onChangeTitle=n.onChangeTitle.bind(Object(g.a)(n)),n.onChangeAuthor=n.onChangeAuthor.bind(Object(g.a)(n)),n.onChangeReadByMar=n.onChangeReadByMar.bind(Object(g.a)(n)),n.onChangeDescription=n.onChangeDescription.bind(Object(g.a)(n)),n.onChangePages=n.onChangePages.bind(Object(g.a)(n)),n.onChangeDate=n.onChangeDate.bind(Object(g.a)(n)),n.onChangeCover=n.onChangeCover.bind(Object(g.a)(n)),n.onSubmit=n.onSubmit.bind(Object(g.a)(n)),n.state={title:"",author:"",defaultAuthor:null,readByMar:!1,description:"",pages:0,date:new Date,cover:null,showImage:"",authors:[]},n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;v.a.get("http://localhost:5000/authors/").then((function(t){t.data.length>0&&e.setState({authors:t.data.map((function(e){return e.name})),author:t.data[0].name})})).catch((function(e){console.log(e)}))}},{key:"onChangeTitle",value:function(e){this.setState({title:e.target.value})}},{key:"onChangeAuthor",value:function(e){this.setState({author:e.target.value})}},{key:"onChangeReadByMar",value:function(){this.setState({readByMar:!this.state.readByMar})}},{key:"onChangeReadByAnd",value:function(e){this.setState({readByAnd:e.target.checked})}},{key:"onChangeCurrentlyReadingMar",value:function(e){this.setState({currentlyReadingMar:e.target.checked})}},{key:"onChangeCurrentlyReadingAnd",value:function(e){this.setState({currentlyReadingAnd:e.target.checked})}},{key:"onChangeDescription",value:function(e){this.setState({description:e.target.value})}},{key:"onChangePages",value:function(e){this.setState({pages:e.target.value})}},{key:"onChangeDate",value:function(e){this.setState({date:e})}},{key:"onChangeCover",value:function(e){this.setState({cover:e.target.files[0],showImage:URL.createObjectURL(e.target.files[0])})}},{key:"onSubmit",value:function(e){e.preventDefault();var t=new FormData,a=this.state,n=a.title,o=a.author,r=a.description,l=a.pages,c=a.date,s=a.cover,i=a.readByMar;a.readByAnd,a.currentlyReadingMar,a.currentlyReadingAnd;t.append("title",n),t.append("author",o),t.append("readByMar",i),t.append("description",r),t.append("pages",l),t.append("date",c),t.append("cover",s),v.a.post("http://localhost:5000/books/add",t),window.location="/books"}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("h3",null,"Create New Book"),o.a.createElement("form",{onSubmit:this.onSubmit},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"Title: "),o.a.createElement("input",{type:"text",required:!0,className:"form-control",value:this.state.title,onChange:this.onChangeTitle})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"Author: "),o.a.createElement("select",{ref:"authorInput",required:!0,className:"form-control",value:this.state.author,onChange:this.onChangeAuthor},this.state.authors.map((function(e){return o.a.createElement("option",{key:e,value:e},e)})))),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"Read by Marius: "),o.a.createElement("input",{type:"checkbox",className:"form-control",checked:this.state.readByMar,value:this.state.readByMar,onChange:this.onChangeReadByMar})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"Description: "),o.a.createElement("input",{type:"text",required:!0,className:"form-control",value:this.state.description,onChange:this.onChangeDescription})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"Pages: "),o.a.createElement("input",{type:"text",className:"form-control",value:this.state.pages,onChange:this.onChangePages})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"Date: "),o.a.createElement("div",null,o.a.createElement(C.a,{selected:this.state.date,onChange:this.onChangeDate}))),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"Cover: "),o.a.createElement("input",{type:"file",required:!0,name:"cover",className:"form-control",onChange:this.onChangeCover}),o.a.createElement("img",{style:{maxWidth:100},src:this.state.showImage})),o.a.createElement("div",{className:"form-group"},o.a.createElement("input",{type:"submit",value:"Create Book",className:"btn btn-primary"}))))}}]),a}(n.Component),S=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).onChangeAuthor=n.onChangeAuthor.bind(Object(g.a)(n)),n.onSubmit=n.onSubmit.bind(Object(g.a)(n)),n.state={name:""},n}return Object(u.a)(a,[{key:"onChangeAuthor",value:function(e){this.setState({name:e.target.value})}},{key:"onSubmit",value:function(e){e.preventDefault();var t={name:this.state.name};console.log(t),v.a.post("http://localhost:5000/authors/add",t).then((function(e){return console.log(e.data)})),this.setState({name:""}),window.location="/"}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("h3",null,"Create New Author"),o.a.createElement("form",{onSubmit:this.onSubmit},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"Name: "),o.a.createElement("input",{type:"text",required:!0,className:"form-control",value:this.state.name,onChange:this.onChangeAuthor})),o.a.createElement("div",{className:"form-group"},o.a.createElement("input",{type:"submit",value:"Create Author",className:"btn btn-primary"}))))}}]),a}(n.Component),j=function(){return o.a.createElement("h1",null,"This is homepage")},O=a(78),M=a.n(O),D=(a(168),function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).state={target:0,times:2,duration:1e3,turn:!0,data:[],selectedBook:!1},e.selectBook=e.selectBook.bind(Object(g.a)(e)),e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;v.a.get("http://localhost:5000/books/").then((function(t){e.setState({data:t.data})})).catch((function(e){console.log(e)})),document.getElementById("ceva").querySelectorAll("li").forEach((function(e){e.classList.remove("selected-book")}))}},{key:"componentDidUpdate",value:function(){console.log(this.state),document.getElementById("ceva").querySelectorAll("li").forEach((function(e){e.classList.contains("selected-book")&&e.classList.remove("selected-book")})),this.state.selectedBook&&setTimeout(function(){document.getElementById("ceva").querySelectorAll("li")[this.state.target].classList.add("selected-book")}.bind(this),500)}},{key:"selectBook",value:function(){this.setState({target:Math.floor(Math.random()*this.state.data.length),selectedBook:!0})}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(M.a,{className:"slot",duration:this.state.duration,target:this.state.turn?this.state.target:0,times:this.state.times},this.state.data.filter((function(e){return e})).map((function(e){return o.a.createElement("div",{className:"slot-item",key:e.title},e.title.split("\n").map((function(t){return o.a.createElement("div",{key:e.title},t)})))}))),o.a.createElement("h2",null,"List"),o.a.createElement("ul",{id:"ceva",style:{padding:0,margin:0}},this.state.data.filter((function(e){return e})).map((function(e,t){return o.a.createElement("li",{style:{listStyle:"none",padding:0,margin:0},key:e.title},o.a.createElement("p",null,o.a.createElement("span",null,t+1,". "),o.a.createElement("img",{className:"small-cover-random",src:"/uploads/"+e.cover}),e.title))}))),o.a.createElement("label",null,o.a.createElement("button",{onClick:this.selectBook},"Your Next Book")))}}]),a}(n.Component));var A=function(){return o.a.createElement(c.a,null,o.a.createElement(d,null),o.a.createElement("br",null),o.a.createElement(s.a,{path:"/",exact:!0,component:j}),o.a.createElement(s.a,{path:"/books/",component:y}),o.a.createElement(s.a,{path:"/edit/:id",component:B}),o.a.createElement(s.a,{path:"/create",component:N}),o.a.createElement(s.a,{path:"/author",component:S}),o.a.createElement(s.a,{path:"/random-book",component:D}))};l.a.render(o.a.createElement(A,null),document.getElementById("root"))},81:function(e,t,a){e.exports=a(169)}},[[81,1,2]]]);
//# sourceMappingURL=main.96dec0c8.chunk.js.map