(this["webpackJsonparnautu-library"]=this["webpackJsonparnautu-library"]||[]).push([[0],{168:function(e,t,a){},169:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(34),l=a.n(o),i=a(22),c=a(7),s=(a(86),a(13)),u=a(14),m=a(16),h=a(15),d=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("nav",{className:"navbar navbar-dark bg-dark navbar-expand-lg"},r.a.createElement(i.b,{to:"/",className:"navbar-brand"},"Books"),r.a.createElement("div",{className:"collpase navbar-collapse"},r.a.createElement("ul",{className:"navbar-nav mr-auto"},r.a.createElement("li",{className:"navbar-item"},r.a.createElement(i.b,{to:"/books",className:"nav-link"},"Books")),r.a.createElement("li",{className:"navbar-item"},r.a.createElement(i.b,{to:"/create",className:"nav-link"},"Add book")),r.a.createElement("li",{className:"navbar-item"},r.a.createElement(i.b,{to:"/random-book",className:"nav-link"},"Random book")),r.a.createElement("li",{className:"navbar-item"},r.a.createElement(i.b,{to:"/author",className:"nav-link"},"Add author")))))}}]),a}(n.Component),p=a(79),g=a(4),b=a(9),v=a.n(b),f=a(80),E=function(e){return r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("img",{style:{maxWidth:100,border:"1px solid",borderRadius:5},src:"/uploads/"+e.book.cover})),r.a.createElement("td",null,e.book.title),r.a.createElement("td",null,e.book.author),r.a.createElement("td",null,!0===e.book.readByMar?"Yes":"No"),r.a.createElement("td",null,e.book.description),r.a.createElement("td",null,e.book.pages),r.a.createElement("td",null,e.book.date.substring(0,10)),r.a.createElement("td",null,r.a.createElement(i.b,{to:"/edit/"+e.book._id},"edit")," | ",r.a.createElement("a",{href:"#",onClick:function(){e.deleteBook(e.book._id)}},"delete")))},y=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).handleChange=function(e){var t=e.target.value;n.setState({value:t})},n.deleteBook=n.deleteBook.bind(Object(g.a)(n)),n.sortBy=n.sortBy.bind(Object(g.a)(n)),n.compareBy=n.compareBy.bind(Object(g.a)(n)),n.state={data:[],value:"",ascSort:!1},n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;v.a.get("/api/books/").then((function(t){e.setState({data:t.data})})).catch((function(e){console.log(e)}))}},{key:"deleteBook",value:function(e){v.a.delete("/api/books/"+e),this.setState({data:this.state.data.filter((function(t){return t._id!==e}))})}},{key:"compareBy",value:function(e){return this.state.ascSort?function(t,a){return t[e]>a[e]?-1:t[e]<a[e]?1:0}:function(t,a){return t[e]<a[e]?-1:t[e]>a[e]?1:0}}},{key:"sortBy",value:function(e){var t=Object(p.a)(this.state.data);t.sort(this.compareBy(e)),this.setState({data:t}),this.setState({ascSort:!this.state.ascSort})}},{key:"render",value:function(){var e=this,t=this.state,a=t.data,n=t.value;return r.a.createElement("div",null,r.a.createElement("h3",null,"Books: ",this.state.data.length),r.a.createElement("input",{type:"text",value:n,onChange:this.handleChange}),r.a.createElement("table",{className:"table"},r.a.createElement("thead",{className:"thead-light"},r.a.createElement("tr",null,r.a.createElement("th",null,"Cover"),r.a.createElement("th",{onClick:function(){return e.sortBy("title")}},"Title"),r.a.createElement("th",{onClick:function(){return e.sortBy("author")}},"Author"),r.a.createElement("th",{onClick:function(){return e.sortBy("readByMar")}}," Read By Marius"),r.a.createElement("th",null,"Description"),r.a.createElement("th",{onClick:function(){return e.sortBy("pages")}},"Pages"),r.a.createElement("th",null,"Date"),r.a.createElement("th",null,"Actions"))),r.a.createElement("tbody",null,r.a.createElement(f.a,{value:n,data:a,renderResults:function(t){return r.a.createElement(r.a.Fragment,null,t.map((function(t){return r.a.createElement(E,{data:e.state.data,book:t,deleteBook:e.deleteBook,key:t._id})})))}}))))}}]),a}(n.Component),k=a(37),C=a.n(k),B=(a(68),function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).onChangeTitle=n.onChangeTitle.bind(Object(g.a)(n)),n.onChangeAuthor=n.onChangeAuthor.bind(Object(g.a)(n)),n.onChangeReadByMar=n.onChangeReadByMar.bind(Object(g.a)(n)),n.onChangeDescription=n.onChangeDescription.bind(Object(g.a)(n)),n.onChangePages=n.onChangePages.bind(Object(g.a)(n)),n.onChangeDate=n.onChangeDate.bind(Object(g.a)(n)),n.onChangeCover=n.onChangeCover.bind(Object(g.a)(n)),n.onSubmit=n.onSubmit.bind(Object(g.a)(n)),n.state={title:"",author:"",readByMar:!1,description:"",pages:0,date:new Date,cover:null,isEditImage:!1,showImage:"",authors:[]},n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;v.a.get("/api/books/"+this.props.match.params.id).then((function(t){e.setState({title:t.data.title,author:t.data.author,readByMar:t.data.readByMar,description:t.data.description,pages:t.data.pages,showImage:t.data.cover,cover:t.data.cover,date:new Date(t.data.date)})})).catch((function(e){console.log(e)})),v.a.get("/api/authors/").then((function(t){t.data.length>0&&e.setState({authors:t.data.map((function(e){return e.name}))})})).catch((function(e){console.log(e)}))}},{key:"onChangeTitle",value:function(e){this.setState({title:e.target.value})}},{key:"onChangeAuthor",value:function(e){this.setState({author:e.target.value})}},{key:"onChangeReadByMar",value:function(e){this.setState({readByMar:!this.state.readByMar})}},{key:"onChangeDescription",value:function(e){this.setState({description:e.target.value})}},{key:"onChangePages",value:function(e){this.setState({pages:e.target.value})}},{key:"onChangeDate",value:function(e){this.setState({date:e})}},{key:"onChangeCover",value:function(e){this.setState({cover:e.target.files[0],showImage:URL.createObjectURL(e.target.files[0]),isEditImage:!0})}},{key:"onSubmit",value:function(e){var t=this;e.preventDefault();var a=new FormData,n=this.state,r=n.title,o=n.author,l=n.readByMar,i=n.description,c=n.pages,s=n.date,u=n.cover,m=this.props.match.params.id;a.append("title",r),a.append("author",o),a.append("readByMar",l),a.append("description",i),a.append("pages",c),a.append("date",s),a.append("cover",u),a.append("id",m),v.a.put("/api/books/update/"+this.props.match.params.id,a).then((function(e){e&&t.props.history.push("/books")}))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h3",null,"Edit Book"),r.a.createElement("form",{onSubmit:this.onSubmit,method:"post",encType:"multipart/form-data"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Title: "),r.a.createElement("input",{type:"text",required:!0,className:"form-control",value:this.state.title,onChange:this.onChangeTitle})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Author: "),r.a.createElement("select",{ref:"authorInput",required:!0,className:"form-control",value:this.state.author,onChange:this.onChangeAuthor},this.state.authors.map((function(e){return r.a.createElement("option",{key:e,value:e},e)})))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Read By Maius: "),r.a.createElement("input",{type:"checkbox",className:"form-control",checked:this.state.readByMar,value:this.state.readByMar,onChange:this.onChangeReadByMar})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Description: "),r.a.createElement("input",{type:"text",required:!0,className:"form-control",value:this.state.description,onChange:this.onChangeDescription})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Pages: "),r.a.createElement("input",{type:"number",className:"form-control",value:this.state.pages,onChange:this.onChangePages})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Date: "),r.a.createElement("div",null,r.a.createElement(C.a,{selected:this.state.date,onChange:this.onChangeDate}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Cover"),r.a.createElement("input",{type:"file",name:"cover",className:"form-control",onChange:this.onChangeCover}),this.state.isEditImage?r.a.createElement("img",{style:{maxWidth:100},src:this.state.showImage}):r.a.createElement("img",{style:{maxWidth:100},src:"/uploads/"+this.state.showImage})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"submit",value:"Edit Book",className:"btn btn-primary"}))))}}]),a}(n.Component)),N=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).onChangeTitle=n.onChangeTitle.bind(Object(g.a)(n)),n.onChangeAuthor=n.onChangeAuthor.bind(Object(g.a)(n)),n.onChangeReadByMar=n.onChangeReadByMar.bind(Object(g.a)(n)),n.onChangeDescription=n.onChangeDescription.bind(Object(g.a)(n)),n.onChangePages=n.onChangePages.bind(Object(g.a)(n)),n.onChangeDate=n.onChangeDate.bind(Object(g.a)(n)),n.onChangeCover=n.onChangeCover.bind(Object(g.a)(n)),n.onSubmit=n.onSubmit.bind(Object(g.a)(n)),n.state={title:"",author:"",defaultAuthor:null,readByMar:!1,description:"",pages:0,date:new Date,cover:null,showImage:"",authors:[]},n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;v.a.get("/api/authors/").then((function(t){t.data.length>0&&e.setState({authors:t.data.map((function(e){return e.name})),author:t.data[0].name})})).catch((function(e){console.log(e)}))}},{key:"onChangeTitle",value:function(e){this.setState({title:e.target.value})}},{key:"onChangeAuthor",value:function(e){this.setState({author:e.target.value})}},{key:"onChangeReadByMar",value:function(){this.setState({readByMar:!this.state.readByMar})}},{key:"onChangeReadByAnd",value:function(e){this.setState({readByAnd:e.target.checked})}},{key:"onChangeCurrentlyReadingMar",value:function(e){this.setState({currentlyReadingMar:e.target.checked})}},{key:"onChangeCurrentlyReadingAnd",value:function(e){this.setState({currentlyReadingAnd:e.target.checked})}},{key:"onChangeDescription",value:function(e){this.setState({description:e.target.value})}},{key:"onChangePages",value:function(e){this.setState({pages:e.target.value})}},{key:"onChangeDate",value:function(e){this.setState({date:e})}},{key:"onChangeCover",value:function(e){this.setState({cover:e.target.files[0],showImage:URL.createObjectURL(e.target.files[0])})}},{key:"onSubmit",value:function(e){var t=this;e.preventDefault();var a=new FormData,n=this.state,r=n.title,o=n.author,l=n.description,i=n.pages,c=n.date,s=n.cover,u=n.readByMar;a.append("title",r),a.append("author",o),a.append("readByMar",u),a.append("description",l),a.append("pages",i),a.append("date",c),a.append("cover",s),v.a.post("/api/books/add",a).then((function(e){e&&t.props.history.push("/books")}))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h3",null,"Create New Book"),r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Title: "),r.a.createElement("input",{type:"text",required:!0,className:"form-control",value:this.state.title,onChange:this.onChangeTitle})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Author: "),r.a.createElement("select",{ref:"authorInput",required:!0,className:"form-control",value:this.state.author,onChange:this.onChangeAuthor},this.state.authors.map((function(e){return r.a.createElement("option",{key:e,value:e},e)})))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Read by Marius: "),r.a.createElement("input",{type:"checkbox",className:"form-control",checked:this.state.readByMar,value:this.state.readByMar,onChange:this.onChangeReadByMar})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Description: "),r.a.createElement("input",{type:"text",required:!0,className:"form-control",value:this.state.description,onChange:this.onChangeDescription})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Pages: "),r.a.createElement("input",{type:"text",className:"form-control",value:this.state.pages,onChange:this.onChangePages})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Date: "),r.a.createElement("div",null,r.a.createElement(C.a,{selected:this.state.date,onChange:this.onChangeDate}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Cover: "),r.a.createElement("input",{type:"file",required:!0,name:"cover",className:"form-control",onChange:this.onChangeCover}),r.a.createElement("img",{style:{maxWidth:100},src:this.state.showImage,alt:this.state.title})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"submit",value:"Create Book",className:"btn btn-primary"}))))}}]),a}(n.Component),S=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).onChangeAuthor=n.onChangeAuthor.bind(Object(g.a)(n)),n.onSubmit=n.onSubmit.bind(Object(g.a)(n)),n.state={name:""},n}return Object(u.a)(a,[{key:"onChangeAuthor",value:function(e){this.setState({name:e.target.value})}},{key:"onSubmit",value:function(e){var t=this;e.preventDefault();var a={name:this.state.name};v.a.post("/api/authors/add",a).then((function(e){e&&t.props.history.push("/")})),this.setState({name:""}),window.location="/"}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h3",null,"Create New Author"),r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Name: "),r.a.createElement("input",{type:"text",required:!0,className:"form-control",value:this.state.name,onChange:this.onChangeAuthor})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"submit",value:"Create Author",className:"btn btn-primary"}))))}}]),a}(n.Component),j=function(){return r.a.createElement("h1",null,"This is homepage")},O=a(78),M=a.n(O),D=(a(168),function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).state={target:0,times:2,duration:1e3,turn:!0,data:[],selectedBook:!1},e.selectBook=e.selectBook.bind(Object(g.a)(e)),e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;v.a.get("/api/books/").then((function(t){e.setState({data:t.data})})).catch((function(e){console.log(e)})),document.getElementById("ceva").querySelectorAll("li").forEach((function(e){e.classList.remove("selected-book")}))}},{key:"componentDidUpdate",value:function(){document.getElementById("ceva").querySelectorAll("li").forEach((function(e){e.classList.contains("selected-book")&&e.classList.remove("selected-book")})),this.state.selectedBook&&setTimeout(function(){document.getElementById("ceva").querySelectorAll("li")[this.state.target].classList.add("selected-book")}.bind(this),500)}},{key:"selectBook",value:function(){this.setState({target:Math.floor(Math.random()*this.state.data.length),selectedBook:!0})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(M.a,{className:"slot",duration:this.state.duration,target:this.state.turn?this.state.target:0,times:this.state.times},this.state.data.filter((function(e){return e})).map((function(e){return r.a.createElement("div",{className:"slot-item",key:e.title},e.title.split("\n").map((function(t){return r.a.createElement("div",{key:e.title},t)})))}))),r.a.createElement("h2",null,"List"),r.a.createElement("ul",{id:"ceva",style:{padding:0,margin:0}},this.state.data.filter((function(e){return e})).map((function(e,t){return r.a.createElement("li",{style:{listStyle:"none",padding:0,margin:0},key:e.title},r.a.createElement("p",null,r.a.createElement("span",null,t+1,". "),r.a.createElement("img",{className:"small-cover-random",src:"/uploads/"+e.cover}),e.title))}))),r.a.createElement("label",null,r.a.createElement("button",{onClick:this.selectBook},"Your Next Book")))}}]),a}(n.Component));var A=function(){return r.a.createElement(i.a,null,r.a.createElement(d,null),r.a.createElement("br",null),r.a.createElement(c.a,{path:"/",exact:!0,component:j}),r.a.createElement(c.a,{path:"/books/",component:y}),r.a.createElement(c.a,{path:"/edit/:id",component:B}),r.a.createElement(c.a,{path:"/create",component:N}),r.a.createElement(c.a,{path:"/author",component:S}),r.a.createElement(c.a,{path:"/random-book",component:D}))};l.a.render(r.a.createElement(A,null),document.getElementById("root"))},81:function(e,t,a){e.exports=a(169)}},[[81,1,2]]]);
//# sourceMappingURL=main.861a468b.chunk.js.map